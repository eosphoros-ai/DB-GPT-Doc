<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-modules/smmf" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">SMMF | DB-GPT</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="http://dbgpt.site/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="http://dbgpt.site/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="http://dbgpt.site/docs/latest/modules/smmf"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SMMF | DB-GPT"><meta data-rh="true" name="description" content="Service-oriented Multi-model Management Framework(SMMF)"><meta data-rh="true" property="og:description" content="Service-oriented Multi-model Management Framework(SMMF)"><link data-rh="true" rel="icon" href="/img/eosphoros.jpeg"><link data-rh="true" rel="canonical" href="http://dbgpt.site/docs/latest/modules/smmf"><link data-rh="true" rel="alternate" href="http://dbgpt.site/docs/latest/modules/smmf" hreflang="en-US"><link data-rh="true" rel="alternate" href="http://dbgpt.site/docs/latest/modules/smmf" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="DB-GPT RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="DB-GPT Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-79K8PKYH5H"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-79K8PKYH5H",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.d72b74a6.css">
<script src="/assets/js/runtime~main.0b0b9f36.js" defer="defer"></script>
<script src="/assets/js/main.82c7251e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like DB-GPT, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/eosphoros-ai/DB-GPT">GitHub</a>! ⭐️</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://dbgpt.site/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/dbgpt_logo.png" alt="DB-GPT Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/DB-GPT_LOGO_White.png" alt="DB-GPT Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/latest/overview">Docs</a><a href="https://www.yuque.com/eosphoros/dbgpt-docs/bex30nsv60ru0fmx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">中文文档<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/eosphoros-ai/community" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-community-link">Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/latest/overview">v0.5.2</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/latest/modules/smmf">v0.5.2</a></li><li><a class="dropdown__link" href="/docs/v0.5.1/modules/smmf">v0.5.1</a></li><li><a class="dropdown__link" href="/docs/v0.5.0/modules/smmf">v0.5.0</a></li></ul></div><a href="https://huggingface.co/eosphoros" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-huggingface-link">HuggingFace<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/eosphoros-ai/DB-GPT" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a href="https://dbgpt.site/" target="_blank" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_isFc"><img src="/img/dbgpt_logo.png" alt="DB-GPT Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/DB-GPT_LOGO_White.png" alt="DB-GPT Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/latest/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/latest/quickstart">Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/latest/category/awelagentic-workflow-expression-language">AWEL(Agentic Workflow Expression Language)</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/awel/">What is AWEL?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/awel/get_started">Get Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/awel/why_use_awel">Why use AWEL?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/latest/awel/cookbook">Cookbook</a><button aria-label="Expand sidebar category &#x27;Cookbook&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/latest/awel/tutorial">AWEL Tutorial</a><button aria-label="Expand sidebar category &#x27;AWEL Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/latest/installation">Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/installation/sourcecode">Source Code Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/installation/docker">Docker Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/installation/docker_compose">Docker-Compose Deployment</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/latest/installation/model_service/stand_alone">Model Service Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/latest/installation/advanced_usage/More_proxyllms">Advanced Usage</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/latest/application">Application</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/application/app_usage">Data App Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/application/awel_flow_usage">AWEL Flow Usage</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/latest/application/started_tutorial/chat_knowledge">Getting Started Tutorial</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/latest/application/advanced_tutorial/rag">Advanced Tutorial</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/latest/application/fine_tuning_manual/text_to_sql">Fine Tuning Manual</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/latest/api">API Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/api/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/api/chat">Chat</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/api/app">App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/api/flow">Flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/api/knowledge">Knowledge</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/latest/modules">Modules</a><button aria-label="Collapse sidebar category &#x27;Modules&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/latest/modules/smmf">SMMF</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/modules/rag">MS-RAG</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/modules/agent">DD-Agents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/modules/fine_tuning">Fine-Tuning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/modules/eval">Evaluation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/modules/connections">Connections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/modules/visual">Visualization</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/latest/cookbook/agents/codeagent_develop">Development Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/latest/cookbook/agents/codeagent_develop">Agents</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/latest/cookbook/app/data_analysis_app_develop">App</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/latest/faq/install">FAQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/latest/changelog/doc">ChangeLog</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/latest/upgrade/v0.5.0">Upgrade</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/latest/use_cases">Use Cases</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/latest/modules"><span itemprop="name">Modules</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">SMMF</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v0.5.2</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>SMMF</h1>
<p>Service-oriented Multi-model Management Framework(SMMF)</p>
<h1>Introduction</h1>
<p>In AIGC application exploration and production landing, it is difficult to avoid directly interfacing with modeling services, but at present there is no de facto standard for the deployment of inference of large models, new models are constantly released and new training methods are constantly proposed, and we need to spend a lot of time adapting to the changing underlying modeling environments, which to a certain extent restricts the exploration and landing of AIGC applications</p>
<h1>System Design</h1>
<p>In order to simplify the model adaptation process and improve model deployment efficiency and performance, we proposed a service-oriented Multi-Model Management Framework (SMMF).</p>
<p align="center"><img src="/img/module/smmf_layer.png" width="360px"></p>
<p>SMMF consists of two parts: model inference layer and model deployment layer. The model inference layer corresponds to the model inference framework vLLM, TGI and TensorRT, etc. The model deployment layer connects downward to the inference layer and provides model service capabilities upward. The model deployment framework is based on the inference framework and provides capabilities such as multiple model instances, multiple inference frameworks, multi-cloud, automatic expansion and contraction<sup>[1]</sup> , and observability<sup>[2]</sup></p>
<p align="center"><img src="/img/module/smmf.png" width="600px"></p>
<p>In DB-GPT, SMMF is specifically shown in the figure above: the top layer corresponds to the service and application layer (such as DB-GPT WebServer, Agents system, applications, etc.). The next layer is the model deployment framework layer, which includes the API Server and Model Handle that provide model services to the application layer, the Metadata Management and Control Center Model Controller of the entire deployment framework, and the Model Worker that directly interfaces with the inference framework and the underlying environment. The next layer is the inference framework layer, which includes vLLM, llama.cpp and FastChat (since DB-GPT directly uses the inference interface of FastChat, here we also classify FastChat as an inference framework), large language models (Vicuna, Llama, Baichuan, ChatGLM), etc. are deployed in the inference framework. The bottom layer is the actual deployment environment, including Kubernetes, Ray, AWS, Alibaba Cloud, private cloud, etc</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="smmf-features">SMMF features<a href="#smmf-features" class="hash-link" aria-label="Direct link to SMMF features" title="Direct link to SMMF features">​</a></h2>
<ul>
<li>
<p>Supports multiple models and multiple inference frameworks</p>
</li>
<li>
<p>Scalability and stability</p>
</li>
<li>
<p>High framework performance</p>
</li>
<li>
<p>Manageable and monitorable</p>
</li>
<li>
<p>Lightweight</p>
</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="multiple-models-and-multiple-inference-frameworks">Multiple models and multiple inference frameworks<a href="#multiple-models-and-multiple-inference-frameworks" class="hash-link" aria-label="Direct link to Multiple models and multiple inference frameworks" title="Direct link to Multiple models and multiple inference frameworks">​</a></h3>
<p>The current development in the field of large models is changing with each passing day. New models are constantly being released, and new methods are constantly being proposed in terms of model training and inference. We judge that this situation will continue for some time.</p>
<p>For most users exploring and implementing AIGC application scenarios, this situation has both advantages and disadvantages. A typical drawback is to be &quot;led by the nose&quot; by the model, and it is necessary to constantly try and explore new models and new reasoning frameworks.</p>
<p>In DB-GPT, seamless support for FastChat, vLLM and llama.cpp is directly provided. In theory, DB-GPT supports all the models they support. If you have needs for reasoning speed and tactical capabilities, you can directly use vLLM , if you want the CPU or Mac&#x27;s M1/M2 chip to also get good inference performance, you can use llama.cpp. In addition, DB-GPT also supports proxy models, such as: OpenAI, Azure, Google Bard, Tongyi, Baichuan, Xun Feixinghuo, Baidu Wenxin, Zhipu AI, etc</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="support-llms">Support LLMs<a href="#support-llms" class="hash-link" aria-label="Direct link to Support LLMs" title="Direct link to Support LLMs">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="open-source-models">Open-source Models<a href="#open-source-models" class="hash-link" aria-label="Direct link to Open-source Models" title="Direct link to Open-source Models">​</a></h4>
<ul>
<li><a href="https://huggingface.co/Tribbiani/vicuna-13b" target="_blank" rel="noopener noreferrer">Vicuna</a></li>
<li><a href="https://huggingface.co/lmsys/vicuna-13b-v1.5" target="_blank" rel="noopener noreferrer">vicuna-13b-v1.5</a></li>
<li><a href="https://huggingface.co/meta-llama/Llama-2-7b-chat-hf" target="_blank" rel="noopener noreferrer">LLama2</a></li>
<li><a href="https://huggingface.co/baichuan-inc/Baichuan2-13B-Chat" target="_blank" rel="noopener noreferrer">baichuan2-13b</a></li>
<li><a href="https://huggingface.co/baichuan-inc/Baichuan2-7B-Chat" target="_blank" rel="noopener noreferrer">baichuan2-7b</a></li>
<li><a href="https://huggingface.co/THUDM/chatglm-6b" target="_blank" rel="noopener noreferrer">chatglm-6b</a></li>
<li><a href="https://huggingface.co/THUDM/chatglm2-6b" target="_blank" rel="noopener noreferrer">chatglm2-6b</a></li>
<li><a href="https://huggingface.co/THUDM/chatglm3-6b" target="_blank" rel="noopener noreferrer">chatglm3-6b</a></li>
<li><a href="https://huggingface.co/tiiuae/falcon-40b" target="_blank" rel="noopener noreferrer">falcon-40b</a></li>
<li><a href="https://huggingface.co/internlm/internlm-chat-7b" target="_blank" rel="noopener noreferrer">internlm-chat-7b</a></li>
<li><a href="https://huggingface.co/internlm/internlm-chat-20b" target="_blank" rel="noopener noreferrer">internlm-chat-20b</a></li>
<li><a href="https://huggingface.co/Qwen/Qwen-7B-Chat" target="_blank" rel="noopener noreferrer">qwen-7b-chat</a></li>
<li><a href="https://huggingface.co/Qwen/Qwen-14B-Chat" target="_blank" rel="noopener noreferrer">qwen-14b-chat</a></li>
<li><a href="https://huggingface.co/WizardLM/WizardLM-13B-V1.2" target="_blank" rel="noopener noreferrer">wizardlm-13b</a></li>
<li><a href="https://huggingface.co/microsoft/Orca-2-7b" target="_blank" rel="noopener noreferrer">orca-2-7b</a></li>
<li><a href="https://huggingface.co/microsoft/Orca-2-13b" target="_blank" rel="noopener noreferrer">orca-2-13b</a></li>
<li><a href="https://huggingface.co/openchat/openchat_3.5" target="_blank" rel="noopener noreferrer">openchat_3.5</a></li>
<li><a href="https://huggingface.co/HuggingFaceH4/zephyr-7b-alpha" target="_blank" rel="noopener noreferrer">zephyr-7b-alpha</a></li>
<li><a href="https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1" target="_blank" rel="noopener noreferrer">mistral-7b-instruct-v0.1</a></li>
<li><a href="https://huggingface.co/01-ai/Yi-34B-Chat" target="_blank" rel="noopener noreferrer">Yi-34B-Chat</a></li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="proxy-models">Proxy Models<a href="#proxy-models" class="hash-link" aria-label="Direct link to Proxy Models" title="Direct link to Proxy Models">​</a></h4>
<ul>
<li><a href="https://api.openai.com/" target="_blank" rel="noopener noreferrer">OpenAI·ChatGPT</a></li>
<li><a href="https://platform.baichuan-ai.com/" target="_blank" rel="noopener noreferrer">百川·Baichuan</a></li>
<li><a href="https://www.aliyun.com/product/dashscope" target="_blank" rel="noopener noreferrer">Alibaba·通义</a></li>
<li><a href="https://bard.google.com/" target="_blank" rel="noopener noreferrer">Google·Bard</a></li>
<li><a href="https://cloud.baidu.com/product/wenxinworkshop?track=dingbutonglan" target="_blank" rel="noopener noreferrer">Baidu·文心</a></li>
<li><a href="http://open.bigmodel.cn/" target="_blank" rel="noopener noreferrer">智谱·ChatGLM</a></li>
<li><a href="https://xinghuo.xfyun.cn/" target="_blank" rel="noopener noreferrer">讯飞·星火</a></li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>More LLMs, please refer to the <a href="https://github.com/eosphoros-ai/DB-GPT/blob/main/pilot/configs/model_config.py" target="_blank" rel="noopener noreferrer">source code</a></p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scalability-and-stability">Scalability and stability<a href="#scalability-and-stability" class="hash-link" aria-label="Direct link to Scalability and stability" title="Direct link to Scalability and stability">​</a></h3>
<p>The cloud native field solves the core pain points of management, control, scheduling, and utilization of massive computing resources. Let the value of computing be fully released, making large-scale computing a ubiquitous technology.</p>
<p>In the field of large models, we are also concerned about the explosive demand for computing resources during model inference. Therefore, multi-model management with scheduling supercomputing capabilities is what we focus on during production implementation. In view of the outstanding achievements of computing scheduling layers such as Kubernetes and Istio in the past few years, we fully draw on relevant design concepts in multi-model management and control.</p>
<p>A relatively complete model deployment framework requires multiple parts, including a Model Worker that directly interfaces with the underlying reasoning framework, a Model Controller that manages and maintains multiple model components, and a Model API that provides external model service capabilities. The Model Worker must be scalable. It can be a Model Worker that specifically deploys large language models, or a Model Worker that is used to deploy Embedding models. Of course, it can also be based on the deployment environment, such as physical machine environment, kubernetes environment, and some specific clouds. Choose different Model Workers based on the cloud environment provided by the service provider.</p>
<p>The Model Controller used to manage metadata also needs to be extensible, and different Model Controllers must be selected for different deployment environments and different model management and control requirements. In addition, from a technical point of view, model services have a lot in common with traditional microservices. In microservices, a certain service in the microservice can have multiple service instances, and all service instances are uniformly registered to the registration center. The service caller pulls the service list corresponding to the service name from the registration center based on the service name, and then selects a specific service instance to call according to a certain load balancing policy.</p>
<p>In model deployment, a similar architecture can also be considered. A certain model can have multiple model instances. All model instances are uniformly registered to the model registration center, and then the model service caller goes to the registration center to pull the model instance based on the model name. list, and then call a specific model instance according to the load balancing policy of the model.</p>
<p>Here we introduce the model registration center, which is responsible for storing model instance metadata in the Model Controller. It can directly use the registration center in existing microservices as an implementation (such as nacos, eureka, etcd and console, etc.), so that the entire deployment system is Can achieve high availability.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="high-framework-performance">High framework performance<a href="#high-framework-performance" class="hash-link" aria-label="Direct link to High framework performance" title="Direct link to High framework performance">​</a></h3>
<p>The framework layer should not be the bottleneck of model inference performance. In most cases, the hardware and inference framework determines the capability of the model service, and the deployment and optimization of model inference is a complex project, and inappropriate framework design may increase this complexity. In our opinion, there are two main concerns in deploying the framework in order to &quot;not drag the feet&quot; on performance: ● The framework should not be the bottleneck of model inference performance.</p>
<p>Avoid excessive encapsulation: the more encapsulation and the longer the links, the harder it is to troubleshoot performance issues.</p>
<p>High-performance communication design: There are many points in high-performance communication design, so I won&#x27;t go into them here. Since Python is currently taking the lead in AIGC applications, in Python, asynchronous interfaces are critical to the performance of the service. Therefore, the model service layer only provides asynchronous interfaces to make compatibility with the model reasoning framework docking layer, and directly dock if the model reasoning framework provides asynchronous interfaces. Otherwise use synchronous to asynchronous task support.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="manageable-and-monitorable">Manageable and monitorable<a href="#manageable-and-monitorable" class="hash-link" aria-label="Direct link to Manageable and monitorable" title="Direct link to Manageable and monitorable">​</a></h3>
<p>In AIGC application exploration or AIGC application production and implementation, we need the model deployment system to have certain management capabilities, and to perform certain management and control on model instances deployed through API or command line (such as: online, offline, restart, debug, etc.)</p>
<p>Observability is a very important capability of production systems. We believe that observability is crucial in AIGC applications. Because the user experience and the interaction between the user and the system are more complex, in addition to traditional observation indicators, we are also more concerned about the user&#x27;s input information and the contextual information of the corresponding scene. Which model instance and model parameters were called, the output content and response time of the model, user feedback, etc.</p>
<p>We can find some performance bottlenecks of model services and some user experience data from this information.</p>
<p>What about response latency?</p>
<p>Does it solve user problems and extract user satisfaction, etc. from user content?</p>
<p>These are the basis for further optimization of the entire application.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="lightweight">Lightweight<a href="#lightweight" class="hash-link" aria-label="Direct link to Lightweight" title="Direct link to Lightweight">​</a></h3>
<p>Considering the numerous supported models and inference frameworks, we need to work hard to avoid unnecessary dependencies and ensure that users can install them as needed.</p>
<p>In DB-GPT, users can install their own dependencies on demand. Some of the main optional dependencies are as follows:</p>
<ul>
<li>
<p>Install the most basic dependencies <code>pip install -e .</code> or  <code>pip install -e &quot;.[core]&quot;</code></p>
</li>
<li>
<p>Install the dependencies of the basic framework <code>pip install -e &quot;.[framework]&quot;</code></p>
</li>
<li>
<p>Install the dependencies of the openai proxy model <code>pip install -e &quot;.[openai]&quot;</code></p>
</li>
<li>
<p>Install default dependencies <code>pip install -e &quot;.[default]&quot;</code></p>
</li>
<li>
<p>Install dependencies of vLLM inference framework <code>pip install -e &quot;.[vllm]&quot;</code></p>
</li>
<li>
<p>Install dependencies for model quantization deployment <code>pip install -e &quot;.[quantization]&quot;</code></p>
</li>
<li>
<p>Install knowledge base related dependencies <code>pip install -e &quot;.[knowledge]&quot;</code></p>
</li>
<li>
<p>Install pytorch dependencies <code>pip install -e &quot;.[torch]&quot;</code></p>
</li>
<li>
<p>Install the dependencies of llama.cpp <code>pip install -e &quot;.[llama_cpp]&quot;</code></p>
</li>
<li>
<p>Install vectorized database dependencies <code>pip install -e &quot;.[vstore]&quot;</code></p>
</li>
<li>
<p>Install data source dependencies <code>pip install -e &quot;.[datasource]&quot;</code></p>
</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="implementation">Implementation<a href="#implementation" class="hash-link" aria-label="Direct link to Implementation" title="Direct link to Implementation">​</a></h2>
<p>For multi-model related implementation, please refer to the <a href="https://github.com/eosphoros-ai/DB-GPT/tree/main/pilot/model" target="_blank" rel="noopener noreferrer">source code</a></p>
<h1>Appendix</h1>
<p><code>[1]</code> <code>[2]</code> Capabilities such as automatic scaling and observability are still in incubation and have not yet been implemented.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/latest/modules"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Modules</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/latest/modules/rag"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">MS-RAG</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#smmf-features" class="table-of-contents__link toc-highlight">SMMF features</a><ul><li><a href="#multiple-models-and-multiple-inference-frameworks" class="table-of-contents__link toc-highlight">Multiple models and multiple inference frameworks</a></li><li><a href="#support-llms" class="table-of-contents__link toc-highlight">Support LLMs</a></li><li><a href="#scalability-and-stability" class="table-of-contents__link toc-highlight">Scalability and stability</a></li><li><a href="#high-framework-performance" class="table-of-contents__link toc-highlight">High framework performance</a></li><li><a href="#manageable-and-monitorable" class="table-of-contents__link toc-highlight">Manageable and monitorable</a></li><li><a href="#lightweight" class="table-of-contents__link toc-highlight">Lightweight</a></li></ul></li><li><a href="#implementation" class="table-of-contents__link toc-highlight">Implementation</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/7uQnPuveTY" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://hub.docker.com/u/eosphorosai" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dockerhub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Github</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/eosphoros-ai/DB-GPT" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://huggingface.co/eosphoros" target="_blank" rel="noopener noreferrer" class="footer__link-item">HuggingFace<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://news.ycombinator.com/item?id=36038815" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hacker News<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/DbGpt80100" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 DB-GPT</div></div></div></footer></div>
</body>
</html>