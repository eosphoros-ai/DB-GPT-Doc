"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8979],{4347:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>d,toc:()=>u});var i=t(4848),l=t(8453),r=t(1470),a=t(9365);const o={sidebar_position:0},s="Quickstart",d={id:"quickstart",title:"Quickstart",description:"DB-GPT supports the installation and use of a variety of open source and closed models. Different models have different requirements for environment and resources. If localized model deployment is required, GPU resources are required for deployment. The API proxy model requires relatively few resources and can be deployed and started on a CPU machine.",source:"@site/versioned_docs/version-v0.5.1/quickstart.md",sourceDirName:".",slug:"/quickstart",permalink:"/docs/v0.5.1/quickstart",draft:!1,unlisted:!1,tags:[],version:"v0.5.1",sidebarPosition:0,frontMatter:{sidebar_position:0},sidebar:"docs",previous:{title:"Overview",permalink:"/docs/v0.5.1/overview"},next:{title:"AWEL(Agentic Workflow Expression Language)",permalink:"/docs/v0.5.1/category/awelagentic-workflow-expression-language"}},c={},u=[{value:"Environmental preparation",id:"environmental-preparation",level:2},{value:"Download source code",id:"download-source-code",level:3},{value:"Miniconda environment installation",id:"miniconda-environment-installation",level:3},{value:"Model deployment",id:"model-deployment",level:2},{value:"Install dependencies",id:"install-dependencies",level:4},{value:"Download embedding model",id:"download-embedding-model",level:4},{value:"Configure the proxy and modify LLM_MODEL, PROXY_API_URL and API_KEY in the <code>.env</code>file",id:"configure-the-proxy-and-modify-llm_model-proxy_api_url-and-api_key-in-the-envfile",level:4},{value:"Hardware requirements description",id:"hardware-requirements-description",level:4},{value:"Download LLM",id:"download-llm",level:4},{value:"Environment variable configuration, configure the LLM_MODEL parameter in the <code>.env</code> file",id:"environment-variable-configuration-configure-the-llm_model-parameter-in-the-env-file",level:4},{value:"Test data (optional)",id:"test-data-optional",level:2},{value:"Run service",id:"run-service",level:2},{value:"Run service",id:"run-service-1",level:3},{value:"Visit website",id:"visit-website",level:2},{value:"1. Production model:",id:"1-production-model",level:4},{value:"2. Development mode:",id:"2-development-mode",level:4}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"quickstart",children:"Quickstart"}),"\n",(0,i.jsx)(n.p,{children:"DB-GPT supports the installation and use of a variety of open source and closed models. Different models have different requirements for environment and resources. If localized model deployment is required, GPU resources are required for deployment. The API proxy model requires relatively few resources and can be deployed and started on a CPU machine."}),"\n",(0,i.jsx)(n.admonition,{title:"note",type:"info",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Detailed installation and deployment tutorials can be found in ",(0,i.jsx)(n.a,{href:"/docs/installation",children:"Installation"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"This page only introduces deployment based on ChatGPT proxy and local Vicuna model."}),"\n"]})}),"\n",(0,i.jsx)(n.h2,{id:"environmental-preparation",children:"Environmental preparation"}),"\n",(0,i.jsx)(n.h3,{id:"download-source-code",children:"Download source code"}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"Download DB-GPT"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"git clone https://github.com/eosphoros-ai/DB-GPT.git\n"})}),"\n",(0,i.jsx)(n.h3,{id:"miniconda-environment-installation",children:"Miniconda environment installation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The default database uses SQLite, so there is no need to install a database in the default startup mode. If you need to use other databases, you can read the ",(0,i.jsx)(n.a,{href:"/docs/application_manual/advanced_tutorial/rag",children:"advanced tutorials"})," below. We recommend installing the Python virtual environment through the conda virtual environment. For the installation of Miniconda environment, please refer to the ",(0,i.jsx)(n.a,{href:"https://docs.conda.io/projects/miniconda/en/latest/",children:"Miniconda installation tutorial"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"Create a Python virtual environment"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'python >= 3.10\nconda create -n dbgpt_env python=3.10\nconda activate dbgpt_env\n\n# it will take some minutes\npip install -e ".[default]"\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"Copy environment variables"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"cp .env.template  .env\n"})}),"\n",(0,i.jsx)(n.h2,{id:"model-deployment",children:"Model deployment"}),"\n",(0,i.jsx)(n.admonition,{title:"note",type:"info",children:(0,i.jsx)(n.p,{children:"Provide two deployment methods to quickly start experiencing DB-GPT."})}),"\n","\n","\n",(0,i.jsxs)(r.A,{defaultValue:"openai",values:[{label:"Open AI",value:"openai"},{label:"Vicuna",value:"vicuna"}],children:[(0,i.jsxs)(a.A,{value:"openai",label:"openai",children:[(0,i.jsxs)(n.admonition,{title:"note",type:"info",children:[(0,i.jsx)(n.p,{children:"\u26a0\ufe0f  You need to ensure that git-lfs is installed"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"\u25cf CentOS installation: yum install git-lfs\n\u25cf Ubuntu installation: apt-get install git-lfs\n\u25cf MacOS installation: brew install git-lfs\n"})})]}),(0,i.jsx)(n.h4,{id:"install-dependencies",children:"Install dependencies"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'pip install  -e ".[openai]"\n'})}),(0,i.jsx)(n.h4,{id:"download-embedding-model",children:"Download embedding model"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"cd DB-GPT\nmkdir models and cd models\ngit clone https://huggingface.co/GanymedeNil/text2vec-large-chinese\n"})}),(0,i.jsxs)(n.h4,{id:"configure-the-proxy-and-modify-llm_model-proxy_api_url-and-api_key-in-the-envfile",children:["Configure the proxy and modify LLM_MODEL, PROXY_API_URL and API_KEY in the ",(0,i.jsx)(n.code,{children:".env"}),"file"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# .env\nLLM_MODEL=chatgpt_proxyllm\nPROXY_API_KEY={your-openai-sk}\nPROXY_SERVER_URL=https://api.openai.com/v1/chat/completions\n"})})]}),(0,i.jsxs)(a.A,{value:"vicuna",label:"vicuna",children:[(0,i.jsx)(n.h4,{id:"hardware-requirements-description",children:"Hardware requirements description"}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Model"}),(0,i.jsx)(n.th,{style:{textAlign:"right"},children:"Quantize"}),(0,i.jsx)(n.th,{children:"VRAM Size"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Vicuna-7b"}),(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"4-bit"}),(0,i.jsx)(n.td,{children:"8GB"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Vicuna-7b"}),(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"8-bit"}),(0,i.jsx)(n.td,{children:"12GB"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Vicuna-13b"}),(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"4-bit"}),(0,i.jsx)(n.td,{children:"12GB"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Vicuna-13b"}),(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"8-bit"}),(0,i.jsx)(n.td,{children:"20GB"})]})]})]}),(0,i.jsx)(n.h4,{id:"download-llm",children:"Download LLM"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"cd DB-GPT\nmkdir models and cd models\n\n# embedding model\ngit clone https://huggingface.co/GanymedeNil/text2vec-large-chinese\nor\ngit clone https://huggingface.co/moka-ai/m3e-large\n\n# llm model, if you use openai or Azure or tongyi llm api service, you don't need to download llm model\ngit clone https://huggingface.co/lmsys/vicuna-13b-v1.5\n\n"})}),(0,i.jsxs)(n.h4,{id:"environment-variable-configuration-configure-the-llm_model-parameter-in-the-env-file",children:["Environment variable configuration, configure the LLM_MODEL parameter in the ",(0,i.jsx)(n.code,{children:".env"})," file"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# .env\nLLM_MODEL=vicuna-13b-v1.5\n"})})]})]}),"\n",(0,i.jsx)(n.h2,{id:"test-data-optional",children:"Test data (optional)"}),"\n",(0,i.jsx)(n.p,{children:"Load default test data into SQLite database"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Linux"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"bash ./scripts/examples/load_examples.sh\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Windows"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:".\\scripts\\examples\\load_examples.bat\n"})}),"\n",(0,i.jsx)(n.h2,{id:"run-service",children:"Run service"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"python dbgpt/app/dbgpt_server.py\n"})}),"\n",(0,i.jsxs)(n.admonition,{title:"NOTE",type:"info",children:[(0,i.jsx)(n.h3,{id:"run-service-1",children:"Run service"}),(0,i.jsx)(n.p,{children:"If you are running version v0.4.3 or earlier, please start with the following command:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"python pilot/server/dbgpt_server.py\n"})})]}),"\n",(0,i.jsx)(n.h2,{id:"visit-website",children:"Visit website"}),"\n",(0,i.jsx)(n.h4,{id:"1-production-model",children:"1. Production model:"}),"\n",(0,i.jsxs)(n.p,{children:["Open the browser and visit ",(0,i.jsx)(n.a,{href:"http://localhost:5000",children:(0,i.jsx)(n.code,{children:"http://localhost:5000"})})]}),"\n",(0,i.jsx)(n.h4,{id:"2-development-mode",children:"2. Development mode:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cd web & npm install\ncp .env.template .env\n// set the API_BASE_URL to your DB-GPT server address, it usually is http://localhost:5000\nnpm run dev\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Open the browser and visit ",(0,i.jsx)(n.a,{href:"http://localhost:3000",children:(0,i.jsx)(n.code,{children:"http://localhost:3000"})})]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},9365:(e,n,t)=>{t.d(n,{A:()=>a});t(6540);var i=t(53);const l={tabItem:"tabItem_Ymn6"};var r=t(4848);function a(e){let{children:n,hidden:t,className:a}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,i.A)(l.tabItem,a),hidden:t,children:n})}},1470:(e,n,t)=>{t.d(n,{A:()=>w});var i=t(6540),l=t(53),r=t(3104),a=t(6347),o=t(205),s=t(7485),d=t(1682),c=t(9466);function u(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:i,default:l}}=e;return{value:n,label:t,attributes:i,default:l}}))}(t);return function(e){const n=(0,d.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const l=(0,a.W6)(),r=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,s.aZ)(r),(0,i.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(l.location.search);n.set(r,e),l.replace({...l.location,search:n.toString()})}),[r,l])]}function v(e){const{defaultValue:n,queryString:t=!1,groupId:l}=e,r=h(e),[a,s]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=t.find((e=>e.default))??t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:r}))),[d,u]=m({queryString:t,groupId:l}),[v,x]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[l,r]=(0,c.Dv)(t);return[l,(0,i.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:l}),f=(()=>{const e=d??v;return p({value:e,tabValues:r})?e:null})();(0,o.A)((()=>{f&&s(f)}),[f]);return{selectedValue:a,selectValue:(0,i.useCallback)((e=>{if(!p({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);s(e),u(e),x(e)}),[u,x,r]),tabValues:r}}var x=t(2303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=t(4848);function b(e){let{className:n,block:t,selectedValue:i,selectValue:a,tabValues:o}=e;const s=[],{blockElementScrollPositionUntilNextRender:d}=(0,r.a_)(),c=e=>{const n=e.currentTarget,t=s.indexOf(n),l=o[t].value;l!==i&&(d(n),a(l))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=s.indexOf(e.currentTarget)+1;n=s[t]??s[0];break}case"ArrowLeft":{const t=s.indexOf(e.currentTarget)-1;n=s[t]??s[s.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":t},n),children:o.map((e=>{let{value:n,label:t,attributes:r}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>s.push(e),onKeyDown:u,onClick:c,...r,className:(0,l.A)("tabs__item",f.tabItem,r?.className,{"tabs__item--active":i===n}),children:t??n},n)}))})}function j(e){let{lazy:n,children:t,selectedValue:l}=e;const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=r.find((e=>e.props.value===l));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:r.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==l})))})}function y(e){const n=v(e);return(0,g.jsxs)("div",{className:(0,l.A)("tabs-container",f.tabList),children:[(0,g.jsx)(b,{...e,...n}),(0,g.jsx)(j,{...e,...n})]})}function w(e){const n=(0,x.A)();return(0,g.jsx)(y,{...e,children:u(e.children)},String(n))}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var i=t(6540);const l={},r=i.createContext(l);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);