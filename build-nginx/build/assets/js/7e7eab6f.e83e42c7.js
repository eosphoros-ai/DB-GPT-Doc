"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5722],{941:(e,r,a)=>{a.r(r),a.d(r,{assets:()=>i,contentTitle:()=>d,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var t=a(4848),n=a(8453);const s={},d="Upgrade To v0.5.1",o={id:"upgrade/v0.5.1",title:"Upgrade To v0.5.1",description:"Overview",source:"@site/versioned_docs/version-v0.5.1/upgrade/v0.5.1.md",sourceDirName:"upgrade",slug:"/upgrade/v0.5.1",permalink:"/docs/v0.5.1/upgrade/v0.5.1",draft:!1,unlisted:!1,tags:[],version:"v0.5.1",frontMatter:{},sidebar:"docs",previous:{title:"Upgrade To v0.5.0",permalink:"/docs/v0.5.1/upgrade/v0.5.0"},next:{title:"Use Cases",permalink:"/docs/v0.5.1/use_cases"}},i={},c=[{value:"Overview",id:"overview",level:2},{value:"Prepare",id:"prepare",level:2},{value:"Backup Your Database",id:"backup-your-database",level:3},{value:"Upgrade",id:"upgrade",level:2},{value:"Stop DB-GPT Service",id:"stop-db-gpt-service",level:3},{value:"Upgrade Database",id:"upgrade-database",level:3}];function p(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.h1,{id:"upgrade-to-v051",children:"Upgrade To v0.5.1"}),"\n",(0,t.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(r.p,{children:"This guide is for upgrading from v0.5.0 to v0.5.1. If you use SQLite,\nyou not need to upgrade the database. If you use MySQL, you need to upgrade the database."}),"\n",(0,t.jsx)(r.h2,{id:"prepare",children:"Prepare"}),"\n",(0,t.jsx)(r.h3,{id:"backup-your-database",children:"Backup Your Database"}),"\n",(0,t.jsx)(r.p,{children:"To prevent data loss, it is recommended to back up your database before upgrading.\nThe backup way according to your database type."}),"\n",(0,t.jsx)(r.h2,{id:"upgrade",children:"Upgrade"}),"\n",(0,t.jsx)(r.h3,{id:"stop-db-gpt-service",children:"Stop DB-GPT Service"}),"\n",(0,t.jsx)(r.p,{children:"Stop the DB-GPT service according to your start way."}),"\n",(0,t.jsx)(r.h3,{id:"upgrade-database",children:"Upgrade Database"}),"\n",(0,t.jsx)(r.p,{children:"Execute the following SQL to upgrade the database."}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"Add Columns"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sql",children:"USE dbgpt;\nALTER TABLE  dbgpt_serve_flow\n    ADD COLUMN `error_message` varchar(512) null comment 'Error message' after `state`;\n"})})]})}function u(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},8453:(e,r,a)=>{a.d(r,{R:()=>d,x:()=>o});var t=a(6540);const n={},s=t.createContext(n);function d(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);