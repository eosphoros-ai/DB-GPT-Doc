"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5177],{6544:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>i,contentTitle:()=>a,default:()=>d,frontMatter:()=>l,metadata:()=>s,toc:()=>c});var n=o(4848),r=o(8453);const l={},a="QuickStart Basic AWEL Workflow",s={id:"awel/cookbook/quickstart_basic_awel_workflow",title:"QuickStart Basic AWEL Workflow",description:"Install",source:"@site/docs/awel/cookbook/quickstart_basic_awel_workflow.md",sourceDirName:"awel/cookbook",slug:"/awel/cookbook/quickstart_basic_awel_workflow",permalink:"/docs/latest/awel/cookbook/quickstart_basic_awel_workflow",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Cookbook",permalink:"/docs/latest/awel/cookbook"},next:{title:"Multi-Round Chat with LLMs",permalink:"/docs/latest/awel/cookbook/multi_round_chat_withllm"}},i={},c=[{value:"Install",id:"install",level:2}];function p(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"quickstart-basic-awel-workflow",children:"QuickStart Basic AWEL Workflow"}),"\n",(0,n.jsx)(t.h2,{id:"install",children:"Install"}),"\n",(0,n.jsx)(t.p,{children:"At first, install dbgpt, and necessary dependencies:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"pip install dbgpt --upgrade\npip install openai\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Create a python file ",(0,n.jsx)(t.code,{children:"simple_sdk_llm_example_dag.py"})," and write the following content:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:'import asyncio\nfrom dbgpt.core.awel import DAG\nfrom dbgpt.core.operators import (\n    PromptBuilderOperator,\n    RequestBuilderOperator,\n)\nfrom dbgpt.model.proxy import OpenAILLMClient\nfrom dbgpt.model.operators import LLMOperator\n\nwith DAG("simple_sdk_llm_example_dag") as dag:\n    prompt_task = PromptBuilderOperator(\n        "Write a SQL of {dialect} to query all data of {table_name}."\n    )\n    model_pre_handle_task = RequestBuilderOperator(model="gpt-3.5-turbo")\n    llm_task = LLMOperator(OpenAILLMClient())\n    prompt_task >> model_pre_handle_task >> llm_task\n    \noutput = asyncio.run(\n    llm_task.call({\n        "dialect": "MySQL", \n        "table_name": "users"\n    }\n))\nprint(output)\n'})}),"\n",(0,n.jsx)(t.p,{children:"Configure the environment variables for OpenAI API:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"export OPENAI_API_KEY=sk-xx\nexport OPENAI_API_BASE=https://xx:80/v1\n"})}),"\n",(0,n.jsx)(t.p,{children:"Run the python file:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"python simple_sdk_llm_example_dag.py\n"})}),"\n",(0,n.jsx)(t.p,{children:"The output will like this:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-plaintext",children:"ModelOutput(text='SELECT * FROM users;', error_code=0, model_context=None, finish_reason=None, usage={'completion_tokens': 5, 'prompt_tokens': 19, 'total_tokens': 24}, metrics=None)\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Congratulations! You have already mastered the basic usage of AWEL. For more examples,\nplease refer to the ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.a,{href:"/docs/awel/cookbook/",children:"cookbook"})}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["And we suggest you to read the book ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.a,{href:"/docs/awel/tutorial/",children:"AWEL Tutorial"})})," to learn more about AWEL."]})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},8453:(e,t,o)=>{o.d(t,{R:()=>a,x:()=>s});var n=o(6540);const r={},l=n.createContext(r);function a(e){const t=n.useContext(l);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(l.Provider,{value:t},e.children)}}}]);