"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4946],{7199:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>i,contentTitle:()=>s,default:()=>p,frontMatter:()=>l,metadata:()=>a,toc:()=>c});var n=t(4848),r=t(8453);const l={},s="QuickStart Basic AWEL Workflow",a={id:"awel/cookbook/quickstart_basic_awel_workflow",title:"QuickStart Basic AWEL Workflow",description:"Install",source:"@site/versioned_docs/version-v0.5.0/awel/cookbook/quickstart_basic_awel_workflow.md",sourceDirName:"awel/cookbook",slug:"/awel/cookbook/quickstart_basic_awel_workflow",permalink:"/docs/v0.5.0/awel/cookbook/quickstart_basic_awel_workflow",draft:!1,unlisted:!1,tags:[],version:"v0.5.0",frontMatter:{},sidebar:"docs",previous:{title:"Cookbook",permalink:"/docs/v0.5.0/awel/cookbook"},next:{title:"Multi-Round Chat with LLMs",permalink:"/docs/v0.5.0/awel/cookbook/multi_round_chat_withllm"}},i={},c=[{value:"Install",id:"install",level:2}];function d(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h1,{id:"quickstart-basic-awel-workflow",children:"QuickStart Basic AWEL Workflow"}),"\n",(0,n.jsx)(o.h2,{id:"install",children:"Install"}),"\n",(0,n.jsx)(o.p,{children:"At first, install dbgpt, and necessary dependencies:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-shell",children:"pip install dbgpt --upgrade\npip install openai\n"})}),"\n",(0,n.jsxs)(o.p,{children:["Create a python file ",(0,n.jsx)(o.code,{children:"simple_sdk_llm_example_dag.py"})," and write the following content:"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-python",children:'import asyncio\nfrom dbgpt.core.awel import DAG\nfrom dbgpt.core.operators import (\n    PromptBuilderOperator,\n    RequestBuilderOperator,\n)\nfrom dbgpt.model.proxy import OpenAILLMClient\nfrom dbgpt.model.operators import LLMOperator\n\nwith DAG("simple_sdk_llm_example_dag") as dag:\n    prompt_task = PromptBuilderOperator(\n        "Write a SQL of {dialect} to query all data of {table_name}."\n    )\n    model_pre_handle_task = RequestBuilderOperator(model="gpt-3.5-turbo")\n    llm_task = LLMOperator(OpenAILLMClient())\n    prompt_task >> model_pre_handle_task >> llm_task\n    \noutput = asyncio.run(\n    llm_task.call({\n        "dialect": "MySQL", \n        "table_name": "users"\n    }\n))\nprint(output)\n'})}),"\n",(0,n.jsx)(o.p,{children:"Configure the environment variables for OpenAI API:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-bash",children:"export OPENAI_API_KEY=sk-xx\nexport OPENAI_API_BASE=https://xx:80/v1\n"})}),"\n",(0,n.jsx)(o.p,{children:"Run the python file:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-bash",children:"python simple_sdk_llm_example_dag.py\n"})}),"\n",(0,n.jsx)(o.p,{children:"The output will like this:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-plaintext",children:"ModelOutput(text='SELECT * FROM users;', error_code=0, model_context=None, finish_reason=None, usage={'completion_tokens': 5, 'prompt_tokens': 19, 'total_tokens': 24}, metrics=None)\n"})}),"\n",(0,n.jsxs)(o.p,{children:["Congratulations! You have already mastered the basic usage of AWEL. For more examples,\nplease refer to the ",(0,n.jsx)(o.strong,{children:(0,n.jsx)(o.a,{href:"/docs/awel/cookbook/",children:"cookbook"})}),"."]}),"\n",(0,n.jsxs)(o.p,{children:["And we suggest you to read the book ",(0,n.jsx)(o.strong,{children:(0,n.jsx)(o.a,{href:"/docs/awel/tutorial/",children:"AWEL Tutorial"})})," to learn more about AWEL."]})]})}function p(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,o,t)=>{t.d(o,{R:()=>s,x:()=>a});var n=t(6540);const r={},l=n.createContext(r);function s(e){const o=n.useContext(l);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),n.createElement(l.Provider,{value:o},e.children)}}}]);